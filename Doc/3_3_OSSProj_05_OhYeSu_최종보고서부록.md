### 개발 동기 및 필요성

**1) 기숙사 생활 현황**

[‘도망치듯’ 퇴사까지··· 기숙사 매칭제도 도입 고민할 때](https://www.kunews.ac.kr/news/articleView.html?idxno=25149)

- 무작위로 룸메이트가 정해지는 학사에서 흡연여부, 생활방식, 수면패턴 등 서로의 생활패턴이 맞지 않아서 기숙사 생활하는데 불편함을 겪고 있음
    - 비흡연자인 최모씨
    
        *“룸메이트가 풍기는 담배냄새에 극심한 스트레스를 받았다”며 “입실 전에 탈취를 해 달라 부탁  했지만 소용이 없었다”고 털어놨다. 결국 학기 중 내쫓기듯 기숙사에서 나와 친구의 자취방에서 신세를 질 수밖에 없었다. 최 모씨는 “지난 기숙사 생활은 고통뿐인 시간이었다”며 “최소한 타인의 건강에 위해가 되는 흡연 여부는 룸메이트 배정에 있어 기숙사가 고려해야 할 부분이라 생각한다”*
    - 채상훈(보과대 보건환경18) 씨  
        *“취침시간과 기상시간을 비롯한 생활패턴이 서로 완전히 달라 마음 편히 생활하지 못했다”*
<br></br>

**2) 기숙사 생활 만족도에서 룸메이트의 중요성**

[[발언대] 기숙사에서 울고 웃는 룸메이트](https://news.unn.net/news/articleView.html?idxno=534565)

- 룸메이트를 직접 선택해서 기숙사 생활을 하는 학우들은 **룸메이트와 갈등관계가 적고**, **만족도가 높음.**
- 학생 스스로 선택한 룸메이트 지정자들은 임의 지정으로 만난 학생보다 **공동생활에서 더욱 원만한 인간관계**를 유지하고 있음.

    ![Untitled](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/144208568/e5d40a03-a666-459c-839a-35ef941b11e0)  
    < 신지은 외, [기숙사 만족도에 대한 예측 오류: 행복한 룸메이트의 과소평가된 가치], 한국사회및성격심리학회, 2017. >

기숙사의 전반적인 내부 시설과 주변 시설의 편리함만큼 룸메이트와의 생활 습관(생활 패턴) 일치성이 기숙사 생활을 하는데 있어서 중요한 요인임.
<br></br>

**3) 기존 서비스의 아쉬움**


- 기존 룸메이트 매칭은 수동 매칭으로 진행됨
- 학생들은 직접 룸메이트를 찾는 글을 작성하여 매칭을 진행
- 몇몇 학교에서는 학생회가 수동으로 룸메이트를 매칭해주고 있음
    [전북대학교 | 총학생회](https://www.jbnu.ac.kr/kor/?menuID=139&mode=view&no=55347)  
    [단국대학교 총학생회](https://m.facebook.com/story.php?story_fbid=pfbid02XognMmDynFDDERTizyTxdtQeJ98gR7eaXr82XJPXrAY5FFSY4WKU5RmUB5VmUQCMl&id=369371373234334)
    - 수동으로 매칭하는 것은 번거로움
    - 수동으로 매칭하는 것은 정확도가 낮음

- 커뮤니티를 이용하는 경우 
    - 다른 사용자가 게시 글을 확인할 때까지 많은 시간이 소요됨
    - 서로에 대한 정보를 일일이 교환해야 하는 번거로움 
    - 첫 시도에서 매칭이 실패할 경우 복잡한 과정을 반복해야함

<br></br>


**룸메이트 매칭 플랫폼 제안**

- 룸메이트를 선정할 때 생활패턴과 관련된 다양한 요소가 반영되어야함을 확인
- 룸메이트 매칭 서비스에 대한 수요와 타당성이 있음에도 불구하고 플랫폼이 존재하지 않음
- 룸메이트 매칭 알고리즘이 일일히 수동으로 이루어짐
- **플랫폼의 부재와 매칭 방식의 한계를 개선하기 위해 고도화된 알고리즘으로 룸메이트 매칭 서비스를 제공하는 플랫폼을 제안**
<br></br>

### 최종 결과물 구현 기능 
- 회원가입 기능
    <br>
    ![스크린샷 2024-06-06 205904](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/143872214/d0ce7b88-8bb2-4d85-8821-368327b41587)  
    <br>
- 로그인 기능  
    ![로그인](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/144078388/941cfee2-ca1e-4e1a-a2e8-c08eb363098d)
    <br>
- 메인 화면 기능  
    ![메인](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/144078388/a85f5217-1250-4b30-b1a2-797801def00e)
- 차단 기능
- ![차단하기](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/144078388/4b6927f6-164c-4de3-8d21-8bc4ebd89e0d)


<br></br>
### 참고한 다른 프로젝트와의 차이점  
![image (2)](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/143872214/f804a6ed-e79e-4093-a23a-be91b800586a)  
<쉐어메이트, 끼리끼리 도메인 및 기능 비교표>

- “펀칭”의 기술적인 시스템 구조와 “쉐어메이트”의 기능들을 참고하되 본 프로젝트에서는 아래과 같은 차별점 및 개선점을 추구하고자 함.
<br/>
  

**가.** 도메인 변경
- 방탈출 메이트를 매칭하는 기존의 “펀칭” 어플리케이션의 도메인에서 룸메이트를 매칭하는 어플리케이션 도메인으로 변경
    <br/>

**나.** UI/UX 개선
- 룸메이트를 매칭하는 어플리케이션 개발이라는 본 프로젝트의 목표에 맞추어 사용자에게 적합한 UI/UX로 개선
    <br/>

**다.** 매칭을 위한 유사도 계산 알고리즘 적용

- **가장 핵심적인 차별점 및 개선점**에 해당
- 프로필을 보고 룸메이트와 매칭을 시도하는 것이 아닌 매칭 조건을 입력하고 유사도를 계산하여 원하는 조건과 유사한 유저를 추천받을 수 있는 알고리즘을 도입
- 데이터의 형태(이진/연속)에 따라 계산 방식이 달라지므로 **유클리드 거리**+**자카드 유사도**를 이용해 추천 알고리즘 제공
    <br/>


**라.** 채팅 및 차단 기능 구현

- 채팅 기능
        - 사용자들이 앱 내 채팅 기능을 통해 서로 소통하며, 룸메이트 매칭을 할 수 있게 채팅 기능을 구현
        - 오픈 채팅방을 직접 개설하는 번거로움을 최소화
<br/>

- 차단 기능
        - 유저에 대한 차단 기능을 구현하여 차단한 유저는 추천 리스트에서 보이지 않게 함
        - 마이페이지에서 차단 목록을 관리
        - 채팅창에서 차단당한 유저를 구분할 수 있는 알림
        - 차단을 해제할 수 있는 기능 구현

<br></br>

### 최종 솔루션 선택 과정

| 분석 항목                          | 선택된 방법                                          | 주요 이유 및 특징                                                |
|----------------------------------|---------------------------------------------------|-------------------------------------------------------------|
| **개발 방식 선택 (웹앱 vs. 안드로이드 앱)** | 안드로이드 앱                                       | 네이티브 언어로 개발, 빠른 구동 속도 및 안정성, 기기 기능 활용 가능       |
| 개발 플랫폼 및 환경                       | Android Studio                                    | 통합 개발 환경, 효율적인 관리 및 널리 사용되는 커뮤니티 지원                               |
| 데이터베이스 구축 방법                    | MySQL 워크벤치                                     | 중앙 집중화 가능, 확장성 및 보안 기능 제공                                      |
| 외부 데이터베이스 접근 방법                | Django 사용                                       | 간단한 환경 구성, 파이썬 기반의 유연성 제공                                      |
| 유사도 기반 추천 알고리즘                  | 유클리드 유사도와 자카드 유사도 결합 사용                       | 연속 데이터와 이진 데이터 모두 적합한 처리 가능                                     |
| 차단 기능 구현                          | 데이터베이스 이용                                    | 안정적인 장기적 데이터 저장 및 관리 용이성                                      |
  

<br/>  
    
 **1. 모바일 웹앱과 안드로이드 앱의 개발 방식 비교 분석**

- **모바일 웹앱으로 개발하는 경우** 
    - 웹 개발과 동일한 방식으로 개발이 가능하지만 모바일 최적화를 위해 리소스 관리와 이미지 최적화, 코드 번들링 및 미니파이 등을 통한 성능 향상 등 고려해야 할 사항이 많음
    - 웹사이트가 다양한 디바이스 크기와 해상도에 대응할 수 있도록 반응형 디자인을 채택해야 함. 
    - CSS 미디어 쿼리를 사용하여 스타일을 조정하고, Flexbox 또는 CSS Grid와 같은 레이아웃 기술을 활용해야 함.
    - 앱 설치 대신 브라우저 실행 및 url 입력이나 별도의 링크 클릭 등의 과정을 거쳐야 해서 번거로움.
    - 네이티브 앱에 비해 상대적으로 구동 속도가 느리고 안정성도 떨어짐.

    <br/>    

- **안드로이드 앱으로 개발하는 경우**
    - 모바일 기기에 최적화된 네이티브 언어로 만들 수 있음.
    - 각 운영체제에 최적화된 방식으로 만들어지므로 구동 속도가 빠르고 안정적임.
    - 디바이스 전체에 접근 권한을 가질 수 있기 때문에 기기 자체의 기능을 앱에 활용할 수 있음.
    - 유지 보수가 쉬움. 

   <br/>

    **&rarr; 안드로이드 앱으로 개발 진행**
<br></br>

2. **개발 플랫폼 및 환경 대안 비교 분석**
- **안드로이드 스튜디오 (Android Studio)**
    - 공식 안드로이드 개발 툴로, 안드로이드 앱 개발을 위한 전용 도구와 플랫폼을 제공
    - 안드로이드 SDK, 에뮬레이터, 디버깅 도구 등이 통합되어 있어 개발 과정을 효율적으로 관리할 수 있음
    - 안드로이드 앱 개발 전 과정을 통합하여 제공함. 이는 디자인, 개발, 테스트, 배포 등의 단계를 효율적으로 관리하고 연결할 수 있게 해줌
    - 안드로이드 스튜디오는 안드로이드 앱 개발 커뮤니티에서 널리 사용되고 있음. 따라서 관련된 문제 또는 질문에 대한 도움을 받을 수 있는 지원 및 자료가 풍부
    - 다만 상대적으로 무겁고 자원을 많이 소모
    </br>
    
- **VSCode (Visual Studio Code)**
    - 범용 텍스트 편집기로서, 다양한 프로그래밍 언어 및 프레임 워크를 지원
    - 안드로이드 앱 개발 뿐만 아니라 웹 개발, 클라우드 서비스, 머신러닝 등 다양한 분야의 개발에 사용
    - 확장성이 뛰어나며, 다양한 플러그인을 통해 원하는 기능을 추가하고 사용할 수 있음
    - 자유롭게 구성할 수 있는 경량의 개발 환경으로, 사용자가 필요한 도구를 선택하여 개발 환경을 구축할 수 있음
    - 본격적인 통합 개발 환경(IDE)에 비해 기능 부족

   </br>

    **&rarr; 개발 기간이 짧고 경험이 부족하므로 디자인, 개발, 테스트, 배포 등의 단계가 통합되고 학습 자료가 많은  안드로이드 앱으로 개발 진행**
<br></br>

3. **데이터베이스 구축 방법 대안 비교 분석**</br>
- **SQLite와 Room 라이브러리를 통해 로컬에 데이터베이스 구축**
    - Room은 Android  라이브러리이며 SQLite 데이터베이스 위에 있는 추상화 레이어
    - 데이터베이스 설정, 구성, 앱과의 상호작용과 같은 작업을 간소화할 수 있음
    - 인터넷 연결 여부와 관계없이 앱에 있는 주요 정보를 일관된 형태로 볼 수 있음
    - 많은 양의 데이터를 다룰 때 ORM의 오버헤드가 발생할 수 있음
    - 데이터베이스 스키마를 변경할 때 발생하는 마이그레이션 작업이 번거로움
    - 기능에 대한 제한이 많음
    </br>

- **MySQL 워크벤치를 통해 외부에 데이터베이스 구축**
    - MySQL로 데이터베이스를 구축하고 장고를 통해 상호 작용하는 방식
    - 외부 데이터베이스를 사용하면 여러 사용자 또는 여러 플랫폼 간에 데이터를 중앙 집중화 할 수 있음
    - MySQL은 사용하기 쉬운 관리 도구와 강력한 지원 커뮤니티를 갖추고 있음
    - 데이터베이스 시스템을 유연하게 확장할 수 있음
    - 데이터베이스 보안을 위한 다양한 기능을 활용하여 데이터를 안전하게 보호할 수 있음
    - 다만 안드로이드 보안 특성 상 외부 DB에 직접적인 연결은 할 수 없음
        </br>

    **&rarr; 이후 플랫폼 확장에 용이한 MySQL 방식을 사용**    
<br></br>

4. **외부 데이터베이스 접근 방법 대안 비교 분석**</br>

- **Django 이용**
    - Django는 파이썬 기반 웹 애플리케이션 프레임 워크로 데이터베이스 접근을 위한 웹 개발에 사용
    - 간결한 문법과 내장된 기능들을 활용하여 데이터베이스 및 백엔드 로직을 쉽게 구축할 수 있음
    - 환경 구성 과정이 간단함

    <br/>

- **Apache와 PHP 이용**
    - 서버스크립트 언어인 PHP를 이용하여 Apache를 통해 데이터베이스 접근을 위한 웹 기반의 응용프로그램 구축하는 방식
    - 초기 환경 구성이나 설정 파일 번거로움
    - PHP 문법을 새 배우기에 시간이 제한적임

    <br/>

**&rarr; 환경 구성 과정이 간단한 Django 사용**    

<br></br>

5. **유사도 기반 추천을 위한 알고리즘 비교 분석**

- **유클리드 유사도**
    - 거리 기반 유사도
    - 문서 간의 유사도를 계산하는 가장 기본적인 방식. 
    - 벡터 간의 절대적인 거리에 초점을 맞추고 있기 때문에 서로 다른 방향이더라도 유사도가 높다고 판단. 
    - 연속 데이터에 적합
    - 차원 높아질수록 성능 저하되며 각 특성 간의 중요도를 동등하게 다루기 때문에, 특성 간의 중요도가 다를 경우 적절하지 않을 수 있음.
    
    <br/>
    
- **코사인 유사도**
    - 각도 기반 유사도
    - 벡터의 방향이 얼마나 유사한지를 판단
    - 데이터 크기에 영향을 받지 않음
    - 벡터의 방향을 고려하기 때문에 특성 간의 중요도를 고려할 수 있음
    - 상호 상관 관계를 가지는 원소들 간의 유사도를 계산할 때는 불리

<br/>

- **자카드 유사도**
    -  각도 기반 유사도
    - 교집합에서 합집합을 나눈 값, 즉 두 사용자가 공통적으로 가지고 있는 특성의 비율을 계산하여 유사도를 측정 
    - 0과 1로 값이 도출되는 이진 데이터에 적합
    <br/>

    **&rarr; 연속데이터와 이진 데이터가 모두 사용되므로 유클리드 유사도와 자카드 유사도를 결합하여 사용**
  
<br></br>

6. **차단 기능 구현 관련 비교 분석**

- **데이터베이스 이용 (일반적인 차단 기능)**  
    **(1) 데이터베이스 스키마 설계**: 사용자의 차단 상태를 저장할 테이블 설계(사용자 ID, 차단된 사용자 ID 포함)  
    **(2) 사용자 차단**: 특정 사용자를 차단하기 위해 해당 사용자의 ID를 blocklist 테이블에 추가. 매칭 자체에서 제외시킨다.  
    **(3) 차단 여부 확인**: 매칭을 수행하기 전에 사용자의 차단 상태를 확인하여 차단된 사용자와의 매칭을 방지. 사용자가 다른 사용자와 매칭되기 전에 해당 사용자의 ID를 blocklist 테이블에서 확인하는 과정을 거침.  
    **(4) 차단 해제**: 사용자가 차단을 해제하거나 관리자가 차단을 해제할 수 있도록 해야 함. 차단된 사용자 ID를 blocklist 테이블에서 제거하는 방식.

    <br/>
 
- **캐시 또는 메모리 저장**
    - 데이터베이스 대신 메모리나 캐시에 차단된 사용자 ID를 저장
    - 데이터베이스에 액세스하는 것보다 더 빠를 수 있음
    - 차단 목록이 자주 변경되지 않는 경우에 유용
    - 메모리 또는 캐시의 크기에 제한이 있을 수 있으므로 장기적인 보존이 필요한 경우에는 데이터베이스를 사용하는 것이 더 유리
    </br>

    **&rarr; 데이터베이스를 이용한 차단 기능 구현**
    <br>
     **결론**

    - 프로젝트의 최종 목표가 모바일 안드로이드 어플리케이션의 구현이기 때문에 앱 개발 선택
    - 유저가 선택한 룸메이트 매칭 조건과 유저들 간의 성향과 생활 습관과의 유사도 계산에서 이진데이터와 연속데이터를 적합하게 처리할 수 있도록 유클리드+자카드 유사도 계산 방식을 선택
    - 초기에 고려했던 Apache를 사용하여 외부 데이터베이스에 접근하는 방식은 설정이 어렵기 때문에 보다 간편한 Django 사용
    - 외부 데이터베이스로는 MySQL 워크벤치 사용
    - 차단 기능을 구현할 시, 차단 목록이 자주 바뀔 수 있음을 고려해 데이터베이스를 이용해 구현
    - 여러 대안 비교를 통한 최종 선택 과정에 대한 더 자세한 설명은 부록 참고
