# A3.1 OSS 프로젝트 최종보고서

## I. 프로젝트 수행팀 개요

* 수행 학기: 2024년 1학기
* 주제 분류: 자유주제
* 프로젝트명: 동국대학교 기숙사 룸메이트 매칭 시스템 "끼리끼리"  
* Key Words :  룸메이트, 추천, 매칭, 기숙사 생활 만족도, 안드로이드 애플리케이션  
* 팀명: 오예수    

구분 | 성명 | 학번 | 소속학과 | 연계전공 | 이메일
------|-------|-------|-------|-------|-------
팀장 | 조예림 | 2020111500 | 회계학과 | 융합소프트웨어 | em514@naver.com         
팀원 | 김수현 | 2019112426 | 산업시스템공학과 | 융합소프트웨어 | kimsteven728@gmail.com         
팀원 | 오연진 | 2020110869 | 경제학과 | 데이터사이언스소프트웨어 | 2020110869@dgu.ac.kr         

* 지도교수: 융합SW교육원 이길섭 교수님, 박효순 교수님    

## II. 프로젝트  수행 결과

### 1. 프로젝트 개요  

**동국대학교 기숙사 이용 학생들을 위한 성향과 선호도 기반 맞춤 룸메이트 매칭 플랫폼 개발**

#### 1.1 개발 동기 및 목적  
*  룸메이트를 선정할 때 생활패턴과 관련된 다양한 요소가 반영되어야함을 확인
*  룸메이트 매칭 서비스에 대한 수요와 타당성이 있음에도 불구하고 플랫폼이 존재하지 않음
*  룸메이트 매칭 알고리즘이 일일히 수동으로 이루어짐
*  **플랫폼의 부재와 매칭 방식의 한계를 개선하기 위해 고도화된 알고리즘으로 룸메이트 매칭 서비스를 제공하는 플랫폼을 구현하는 것이 이 프로젝트의 목적**

#### 1.2 필요성  
*  무작위로 룸메이트가 정해지는 학사에서 흡연여부, 생활방식, 수면패턴 등 서로의 생활패턴이 맞지 않아서 기숙사 생활하는데 불편함을 겪고 있음
*  룸메이트를 직접 선택해서 기숙사 생활을 하는 학우들은 임의 지정으로 만난 학우들 보다 룸메이트와 갈등관계가 적고, 만족도가 높음
*  또한 공동생활에서 더욱 원만한 인간관계를 유지하고 있음
*  룸메이트와의 생활 습관(생활 패턴) 일치성이 기숙사 생활을 하는데 있어서 중요한 요인임
*  기존의 룸메이트 매칭 서비스는 수동 매칭으로 진행되어 번거롭고 정확도가 낮음
*  커뮤니티를 이용하는 경우에는 다른 사용자가 게시글을 확인할 때까지 많은 시간이 소요됨
*  수동을 매칭을 진행하는 경우 첫 시도에서 매칭에 실패할 시 다시 서로에 대한 정보를 일일이 교환하는 복잡한 과정을 반복해야함  
*  개발 동기 및 필요성에 대한 더 자세한 내용은 다음의 링크에서 확인할 수 있음<br>
  [최종보고서 부록](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/blob/main/Doc/3_3_OSSProj_05_OhYeSu_최종보고서부록.md)


#### 1.3 개발 목표  

*  동국대학교 기숙사를 이용하는 학생들을 위한 안전하고 효율적인 룸메이트 매칭 서비스 개발
    - 기존의 번거로운 매칭 프로세스를 간소화
    - 정확성이 낮았던 매칭 방식을 알고리즘을 통해 개선
    - 사용자의 성향을 조사하여 맞춤형 매칭을 제공
    - 신원확인 및 안전성 강화
    - 채팅 및 차단 기능을 활용하여 매칭을 자율적으로 조율하는 기능 추가
    - 마이페이지를 통한 매칭 조건 및 차단한 유저 목록 관리 
*  최적의 룸메이트 매칭을 통한 학생들의 기숙사 생활 만족도 향상

### 2. 최종결과물 소개  

*  **동국대학교 기숙사 룸메이트 매칭 시스템 '끼리끼리' 의 주요 기능 소개**
   <br>
    - 프로필 생성 기능  
    
    ![프로필생성](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/144078388/f457610f-4d1d-4677-8d62-6c246bd97003) 

     - 룸메이트에 대한 선호 정보 입력 기능
    ![룸메선호정보](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/144078388/67c7b411-2903-429b-955b-4a093f870fce)  

    - 매칭 알고리즘을 통한 룸메이트 추천 기능
    ![매칭목록](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/144078388/6b491dff-fba8-4a14-b739-8d97e50e834f)  

    - 채팅 기능  
    ![채팅하기](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/144078388/8afd6c1c-f799-476f-8da2-95eb16c94af0)
    - 매칭 신청 기능
      ![매칭](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/144078388/b7a59a3b-0b7b-4160-a260-47680f1645ff)

    - 신고 기능  
    ![신고하기](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/144078388/6738ef9a-25a5-4d63-959a-1b0c69db6d12)  
  
    - 이외의 구현 기능은 최종보고서 부록에 기재 <br>
    [최종보고서 부록](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/blob/main/Doc/3_3_OSSProj_05_OhYeSu_최종보고서부록.md)


### 3. 프로젝트 추진 내용    

#### 3.1 프로젝트 진행과정    

* **참고한 기존 프로젝트와의 차별점**  
![image (2)](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/143872214/f804a6ed-e79e-4093-a23a-be91b800586a)  
    **가장 핵심적인 차별점 및 개선점**
    - 프로필을 보고 룸메이트와 매칭을 시도하는 것이 아닌 매칭 조건을 입력하고 유사도를 계산하여 원하는 조건과 유사한 유저를 추천받을 수 있는 알고리즘을 도입
    - 데이터의 형태(이진/연속)에 따라 계산 방식이 달라지므로 **유클리드 거리**+**자카드 유사도**를 이용해 추천 알고리즘 제공
    - 채팅 및 차단 기능 구현
    - UI/UX 개선
*  더 자세한 내용은 다음의 링크에서 확인할 수 있음<br>
  [최종보고서 부록](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/blob/main/Doc/3_3_OSSProj_05_OhYeSu_최종보고서부록.md)
  <br><br>
 
* **개념설계**
    - 사례와 기존의 프로젝트들 분석을 통해 룸메이트 매칭 서비스에 대한 수요와 타당성 확보
    - 사용자의 요구사항을 분석 및 추정한 내용을 기반으로 요구사항명세서 작성
      <br>
    **요구사항명세서**

        [요구사항명세서.pdf](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/files/15218854/default.pdf)
        ![요구사항명세서](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/143872214/861484b9-623a-4860-a87a-c7af702e752c)
    <br>
    
    - 요구사항 명세서를 바탕으로 주요 기능을 산정 및 유스케이스 다이어그램 작성
      <br>
    **유스케이스 다이어그램**
        ![유스케이스1 drawio](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/143872214/413c4b5f-277c-41c7-bd4a-a6a71c313743)
        <br>  

* **상세설계**
    - 대안 비교를 통해 사용할 플랫폼을 결정하고 앱의 구조를 설계
      <br>
    **시스템 구조 설계**
    ![시스템 구조도](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/143872214/bc6d45b7-436e-44be-81b9-0487dd78977d) 
      <br>
    **전체 시스템 블록다이어그램**
    ![블록다이어그램](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/143872214/d0b7b29f-7541-4e12-ad45-6db26643324c)
      <br>
    - 데이터베이스 구조 결정 후 DB 명세서와 ERD 설계도 작성
      <br>
    **DB 명세서**

       [KIRIKIRI_DB 명세서.pdf](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/files/15218855/KIRIKIRI_DB.pdf)

       ![DB 명세서1](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/143872214/7b14f04c-9013-4de4-92a2-f7388e373fdc)  

      ![DB명세서2](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/143872214/79b6154d-3c91-46d9-a3d4-8b3adb99bcc6)  

       ![DB명세서3](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/143872214/3b07998c-d237-4cfc-b27c-66fdf6d05ee6)
        <br>
        **ERD**
       ![Kiri (2)](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/143872214/bd28a217-6ed0-4875-9a4e-d42b7c7277b9)
        <br>

    - 클라이언트와 서버 간의 상호작용에 필요한 API들을 분석 후 API 명세서 작성
      <br>
    **API 명세서**

       [API 명세서](https://meadow-cast-ab6.notion.site/API-ba20f04456da4df4b0f3a824b6be7885?pvs=4)  
       ![API 명세서](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/143872214/e0891dc0-93e7-4048-99c6-2760a9c25646) 
    <br>

    - 구현할 초기 화면을 Figma를 통해 디자인  
    **UI/UX 설계**
    [피그마 디자인 링크](https://www.figma.com/design/ZbEkzUonsown49AqxAWbCB/%EB%81%BC%EB%A6%AC%EB%81%BC%EB%A6%AC?node-id=133-821&t=Sqpi3uGnfd7dF2fC-1)
    <br>

* **개발 진행 계획**
    - 안드로이드 스튜디오 설치 후 기본 개발 환경 설정
    - 개발에 필요한 라이브러리와 도구를 추가하고 설정
    - 앱을 위한 데이터베이스를 MySQL을 이용하여 DB 명세서를 기반으로 구축하고 관리 및 저장
    - 사용자의 입력을 받고 적절한 출력을 생성할 사용자 인터페이스(UI)를 화면 디자인을 참고하여 개발
    - 서버와 상호작용 할 API를 API 명세서를 기반으로 구현
    - Django 웹 프레임워크를 통해 클라이언트와 데이터베이스 간의 상호작용을 관리
    - 자카드 유사도 계산과 유클리드 거리 계산 방식을 활용하여 룸메이트 매칭에 쓰일 알고리즘 구축
    - 회원가입, 프로필 생성, 매칭 추천, 채팅, 차단 등의 기능 구현
    - 앱의 각 기능을 테스트하고 버그를 찾아 수정
    
<br>

#### 3.2 프로젝트 구현과정    
- 최종 대안 선택
    

| 분석 항목                          | 선택된 방법                                          | 주요 이유 및 특징                                                |
|----------------------------------|---------------------------------------------------|-------------------------------------------------------------|
| **개발 방식 선택 (웹앱 vs. 안드로이드 앱)** | 안드로이드 앱                                       | 네이티브 언어로 개발, 빠른 구동 속도 및 안정성, 기기 기능 활용 가능       |
| 개발 플랫폼 및 환경                       | Android Studio                                    | 통합 개발 환경, 효율적인 관리 및 널리 사용되는 커뮤니티 지원                               |
| 데이터베이스 구축 방법                    | MySQL 워크벤치                                     | 중앙 집중화 가능, 확장성 및 보안 기능 제공                                      |
| 외부 데이터베이스 접근 방법                | Django 사용                                       | 간단한 환경 구성, 파이썬 기반의 유연성 제공                                      |
| 유사도 기반 추천 알고리즘                  | 유클리드 유사도와 자카드 유사도 결합 사용                       | 연속 데이터와 이진 데이터 모두 적합한 처리 가능                                     |
| 차단 기능 구현                          | 데이터베이스 이용                                    | 안정적인 장기적 데이터 저장 및 관리 용이성                                      |

<br>

* **최종 솔루션 선택 과정**

    - 프로젝트의 최종 목표가 모바일 안드로이드 어플리케이션의 구현이기 때문에 앱 개발 선택
    - 유저가 선택한 룸메이트 매칭 조건과 유저들 간의 성향과 생활 습관과의 유사도 계산에서 이진데이터와 연속데이터를 적합하게 처리할 수 있도록 유클리드+자카드 유사도 계산 방식을 선택
    - 초기에 고려했던 Apache를 사용하여 외부 데이터베이스에 접근하는 방식은 설정이 어렵기 때문에 보다 간편한 Django 사용
    - DB는 Room같은 기능 제한이 많은 내부 라이브러리 보다는 외부 데이터베이스인 MySQL 워크벤치 사용
    - 차단 기능을 구현할 시, 차단 목록이 자주 바뀔 수 있음을 고려하여 메모리나 캐시에 저장하기 보다는 데이터베이스를 이용해 구현
    - 여러 대안 비교를 통한 최종 선택 과정에 대한 더 자세한 설명은 부록 참고<br>
  [최종보고서 부록](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/blob/main/Doc/3_3_OSSProj_05_OhYeSu_최종보고서부록.md)
  <br>
 

* **구현 과정 상세 설명**
    - 어플리케이션 개발을 위한 안드로이드 스튜디오 플랫폼 이용
 
      
    - 사용자 인터페이스(Frontend)
        - drawable 디렉토리에 앱의 UI를 구성하는데 사용되는 리소스들을 저장
        - layout 디렉토리에 앱의 각 화면의 레이아웃을 정의하고, UI 요소들의 배치와 속성을 지정하는 xml 파일 구현
        - 사용자와 UI 간의 상호작용이 가능하게끔 하는 동작 처리 코드를 app/src/main/java/com/example/mytestapp에서 Activity.kt의 방식을 통해 구현
        - 서버에 정보를 전달하거나 요청을 위한 데이터 클래스들을 request와 response로 나눠 제이슨으로 직렬화하여 정의
        - 서버에서 제공하는 엔드포인트에 대한 HTTP 요청을 정의하는 API 서비스 인터페이스에 대한 코드 작성
        - Retrofit 라이브러리를 사용하여 RESTful API와 통신하는 서비스 객체들을 생성하고 관리
        - API를 통해 서버에 데이터를 요청하거나 전송 가능
        - 사용자는 이를 통해 회원가입, 프로필 생성, 매칭 추천, 채팅, 차단 등의 기능을 이용할 수 있음
        <br>
    -  서버(Backend)
        - 클라이언트와 데이터베이스 간의 상호작용을 관리하고 처리
        - Python 기반의 웹 프레임워크인 Django를 사용하여 데이터베이스인 MySQL과 호환
        - Django를 통해 관리자 인터페이스를 생성하여 백엔드 작업을 효율적으로 관리
        - Django REST Framework(DRF)을 사용하여 앱에 필요한 RESTful API들을 구축 및 관리
        - 사용자 등록 및 로그인, 채팅 관련 기능, 사용자 프로필 관리, 매칭 기능, 신고 및 차단 기능 등 백엔드 로직 구현
        - 자카드 유사도 계산과 유클리드 거리 계산을 활용한 알고리즘 연산 후 적용
        - Django Channels를 사용하여 실시간 채팅을 처리하는 WebSocket 경로 설정

        <br>   
       
    -  데이터베이스(DB)
        - MySQL을 이용하여 사용자 정보 및 매칭에 필요한 데이터를 효율적으로 저장하고 관리
        - 사용자의 프로필 정보, 매칭 결과 등이 안전하게 보관됨
        - 데이터베이스 테이블을 이용해 차단 기능 구현
        <br>

* **소스 코드 overview**
    - 구현한 코드에 대한 자세한 설명은 하단 링크에 수록<br>
    [소스 코드 및 오픈 소스 Overview](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/blob/main/app/src/overveiw.md)
    [소스 코드 간의 기능별 연계성 설명](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/blob/main/Doc/4_4_OSSProj_05_OhYeSu_%EB%B6%80%EB%A1%9D_%EC%86%8C%EC%8A%A4%EC%BD%94%EB%93%9C%EC%97%B0%EA%B3%84%EC%84%B1.md)
    <br>
- **주요 기능에 대한 시퀀스 다이어그램**
      
    매칭 입력 시퀀스 다이어그램

  ![매칭 입력 시퀀스 다이어그램](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/143872214/8e098f6b-30f4-465f-a4ab-f344a3ec6eb2)<br>
  매칭 신청/거절 시퀀스 다이어그램
  ![매칭 신청/거절 시퀀스 다이어그램](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/assets/143872214/3353aa0f-4798-4c41-9a01-3e09c6a698eb)
*  **배포 방법**
    - AWS(amazon web service)의 EC2와 RDS를 이용하였음
    - EC2상에 Django 서버를 구축하고, RDS로 데이터베이스 구축하여 연동 후, 어플리케이션에 EC2 DNS를 할당하여 http 통신을 구현함
    - EC2상에 nginx와 uswgi를 이용하여 무중단 배포 환경을 구성함
      ( 추후, 과금과 보안상 중지 예정 )
    
  <br><br>
### 4. 기대효과  

-  **플랫폼 제공**
    - 통일된 플랫폼을 사용을 통한 기숙생들의 편의성 증진 (기존의 번거로운 방식 탈피)
    - 각종 편리 기능
        - 차단 기능 : 상대 차단 기능을 통해 플랫폼 사용 중 불필요한 경험을 최소화
        - 채팅 기능 : 플랫폼 내 채팅 기능을 통한 사용자 간 불필요한 개인정보 노출 최소화
</br>

- **알고리즘 고도화**
    - 발전된 알고리즘 적용을 통해 최적의 룸메이트를 추천 및 매칭 가능
    - 알고리즘을 통한 자동 매칭으로 룸메이트를 찾는 과정에서 발생하는 시간과 에너지를 절약
</br>

- **기숙사 생활 만족도 증가**
    - 관심사와 성향이 비슷한 룸메이트 매칭을 통해 기숙사 생활 만족도 증가
    - 새로운 사회적 네트워크를 형성 및 대학 생활에 대한 긍정적인 경험 기대
    - 룸메이트 교체와 같은 행정적 수고의 최소화

</br>

- **서비스 전략**
    - 동국대학교 뿐만 아니라 다른 학교 및 기숙생 매칭을 필요로 하는 기관에도 서비스를 제공할 수 있을 것으로 기대

</br>

- **수익창출**
    - **라이센스**
          : B2B (라이센스 제공 대상 : 기숙생 매칭을 필요로 하는 기관)  
          : 학교에 우리 서비스를 납품하고 대여료를 받는 형태로 수익을 올리는 것이 적절
    - **수익 전략**
          1) 플랫폼 자체를 제공하는 방법
          2) 학교 DB에 우리 서비스를 넣는 방법
        
<br></br>

### 5. 팀원 역할    

구분 | 성명 | 팀내 역할 
:----:|:-----:|-------
팀장 | 조예림 | 디자인, 프론트엔드 전반
팀원 | 김수현 | 백엔드 전반, 배포       
팀원 | 오연진 | 프론트엔드 / 백엔드        

### 6. 참고문헌  

(1) 박진웅, ‘도망치듯’ 퇴사까지··· 기숙사 매칭제도 도입 고민할 때, 고대신문, 2018.09.04  
(2) 이애란, [발언대]기숙사에서 울고 웃는 룸메이트, 한국대학신문, 2022.09.28  
(3)신지은 외, [기숙사 만족도에 대한 예측 오류: 행복한 룸메이트의 과소평가된 가치], 한국사회및성격심리학회, 2017  
(4) 전북대학교 총학생회 공지, https://www.jbnu.ac.kr/kor/?menuID=139&mode=view&no=55347, 2024.01.19  
(5) 단국대학교 총학생회 게시물, https://m.facebook.com/story.php?story_fbid=pfbid0U5tb9TKt7YsezCAqEbHfqjCDByH5CsgDW6GPodbCosxZqRYB8mhaVuarnr3jcpbCl&id=369371373234334, 2022.08.11  
(6) 앱의 종류 : 네이티브 앱 vs 웹 앱 vs 하이브리드 앱, https://blog.hectodata.co.kr/app_kinds/, 2022.07.07  
(7) 추천시스템, 그것이 알고싶다, https://playinpap.github.io/recsys-basic/, 2022.07.11  
(8) Android PHP MySQL통신 (MySQL을 이용한 회원가입 예), https://bj-turtle.tistory.com/49, 2022.09.01  
(9) 안드로이드 파편화(Fragmentation)에 대하여, https://brunch.co.kr/@mobiinside/893, 2017.12.04  
(10) 방탈출 메이트 매칭 App, https://github.com/CSID-DGU/2022-2-OSSP1-Exit-1?tab=readme-ov-file#-%EB%B0%A9%ED%83%88%EC%B6%9C-%EB%A9%94%EC%9D%B4%ED%8A%B8-%EB%A7%A4%EC%B9%AD-app, 2022.09  
(11) 2023년 1학기 공개SW프로젝트01 1조 전과6범, https://github.com/CSID-DGU/2023-1-OSSP1-criminal6-1, 2023.03  
(12) ShareMate, https://github.com/ShareMate, 2022.12  
(13) 최혜봉, 남지혜, 김우성, Residential college에서 효과적인 인성 교육을 위한 룸메이트 배정 문제,
[Residential college에서 효과적인 인성 교육을 위한 룸메이트 배정 문제.pdf](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/files/14974588/Residential.college.pdf), 2017.09.28  
(14) 박수영, 박정환, 박지안, 정준서, 김영종, 룸메이트 매칭을 위한 협업 필터링 기반의 추천 시스템, [룸메이트 매칭을 위한 협업 필터링 기반의 추천 시스템.pdf](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/files/14974593/default.pdf), 2023.06  
(15) 고지훈, 최차순, 룸메이트 선호조건을 이용한 안드로이드 매칭 시스템 개발, [KCI_FI002252954.pdf](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/files/14974597/KCI_FI002252954.pdf), 2017.08.31  
(16) 머신러닝 기반의 가중치 보정기법을 이용하는 기숙사 룸메이트 추천 방법, [머신러닝 기반의 가중치 보정기법을 이용하는 기숙사 룸메이트 추천 방법.pdf](https://github.com/CSID-DGU/2024-1-OSSProj-OhYeSu-05/files/14974630/default.pdf), 2024.03.19
<br></br>

### 7. 프로젝트 성과    

* Guthub 등록

### 7. 첨부  

1. OSS 프로젝트 결과보고서 (요약)  
    * 별도 제공된 양식에 작성 후 제출(pdf 형식)  
2. OSS 프로젝트 참여확인서  
    * 별도 제공된 양식에 작성 및 참여자 서명 후 제출(pdf 형식)    
3. 팀구성원이 함께 찍은 사진 1장  
    * jpg파일 별도제출(파일명: eg. Tnn_팀명_팀사진.jpg)  
4. 작품설명용 사진 1~2장  
    * jpg파일 별도 제출(파일명: eg. Tnn_팀명_4_개념설계.jpg)  
